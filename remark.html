<!DOCTYPE html>
<html lang="en" dir="auto">
  <head>
    <meta charset = 'UTF-8'/>
    <meta name='viewport' content='width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover, display=standalone' />
<!-- ios support -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-title" id="title" content="" />
    <meta name="apple-mobile-web-app-status-bar-style" content="white-translucent" />
    <meta name="author" id="author" content="" />
    <meta name="theme-color" id="theme" content="black" />
      <title>
      </title>
    <meta property="og:title" id="title" content="" />
    <meta property="og:video" id="video" content="" />
    <meta property="og:image" id="photo" content="" />
    <meta property="og:description" content="Share dynamic slideshows in SMS" />
    <meta property="og:author" id="author" content="" />    

    <link rel="apple-touch-icon" href="" id="icon" />
    <link rel="icon" href="" id="icon" />

    <script>
      let Q = new URL (window.location.href).searchParams
      Q = {
       'slides': decodeURIComponent(Q.get('slides')) || ['https://i.imgur.com/ZM1EbqK.jpg','https://i.imgur.com/U7IhfJp.jpg'],
       'ratio': decodeURIComponent(Q.get('ratio')) || '16:9',
       'interval': decodeURIComponent(Q.get('interval')) || '3000',
       'title': decodeURIComponent(Q.get('title')) || 'Simpl.slideshow',
       'icon': decodeURIComponent(Q.get('icon')) || './apple-touch-icon.png',
       'photo': decodeURIComponent(Q.get('photo')) || 'https://i.imgur.com/ocVxTJ9.jpg',
       'video': decodeURIComponent(Q.get('video')) || './images/apple-rich-link-video-hd.mp4',
       'author': decodeURIComponent(Q.get('author')) || 'ShortcutsPro'
      }

      document.querySelector('title').innerHTML = Q.title
      document.getElementById('title').setAttribute('content', Q.title)
      document.getElementById('photo').setAttribute('content', Q.photo)
      document.getElementById('video').setAttribute('content', Q.video)
      document.getElementById('author').setAttribute('content', Q.author)
      document.getElementById('icon').setAttribute('href', Q.icon)

      let string = `class: center, middle

background-image: url(${Q.slides[0]})
background-size: cover`;
        for (let i = 1; i < Q.slides.length; i++) {
          string += `
---
background-image: url(${Q.slides[i]})
background-size: cover`;
        }
      const BODY = document.createElement('body')
      const TXT = document.createElement('textarea')
      TXT.id = 'source'
      TXT.innerHTML = ''+ string
      TXT.style = 'display: none;'
      BODY.appendChild(TXT)
      document.head.appendChild(BODY)
    </script>
    <style>
      *, *::before, *::after { border-size:box-border; background-color:black; font-size:0px; margin:0; }
      body:-webkit-full-screen { width:100%; height:100%; background-color:black; }
      img { width:100%; background-color:black; object-fit:cover; }
    </style>
  </head>
  <body>
    <script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
    <script>
      const Show = remark.create({ 'ratio': `${Q.ratio}`})
      setInterval(function () {
          if (Show.getSlideCount()-1 == Show.getCurrentSlideIndex()) {
            Show.gotoFirstSlide()
          } else Show.gotoNextSlide()     
        }, Q.interval)
    </script>
  </body>
</html>
